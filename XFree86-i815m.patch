--- XFree86-4.2.0/xc.orig/programs/Xserver/hw/xfree86/common/xf86PciInfo.h	Mon Jan 21 02:55:00 2002
+++ XFree86-4.2.0/xc/programs/Xserver/hw/xfree86/common/xf86PciInfo.h	Mon Jan 21 03:01:54 2002
@@ -644,6 +644,7 @@
 /* Intel */
 #define PCI_CHIP_I830_M_BRIDGE		0x3575
 #define PCI_CHIP_I830_M			0x3577
+#define PCI_CHIP_I815_M			0x1112
 #define PCI_CHIP_I815_BRIDGE		0x1130
 #define PCI_CHIP_I815			0x1132
 #define PCI_CHIP_I810_BRIDGE		0x7120
@@ -1599,6 +1600,7 @@
 				{PCI_CHIP_I810_BRIDGE,	"i810 Bridge",0},
 				{PCI_CHIP_I810_DC100_BRIDGE,	"i810-dc100 Bridge",0},
 				{PCI_CHIP_I810_E_BRIDGE,"i810e Bridge",0},
+				{PCI_CHIP_I815_M,	"i815m",0},
 				{PCI_CHIP_I815_BRIDGE,	"i815 Bridge",0},
 				{PCI_CHIP_I830_M_BRIDGE,"i830M Bridge",0},
 #endif
--- XFree86-4.2.0/xc.orig/programs/Xserver/hw/xfree86/drivers/i810/i810.h	Tue Jan 15 03:43:51 2002
+++ XFree86-4.2.0/xc/programs/Xserver/hw/xfree86/drivers/i810/i810.h	Mon Jan 21 02:59:17 2002
@@ -798,6 +798,7 @@
 #define PCI_CHIP_I810              0x7121
 #define PCI_CHIP_I810_DC100        0x7123
 #define PCI_CHIP_I810_E            0x7125 
+#define PCI_CHIP_I815_M		   0x1112
 #define PCI_CHIP_I815              0x1132 
 #define PCI_CHIP_I810_BRIDGE       0x7120
 #define PCI_CHIP_I810_DC100_BRIDGE 0x7122
@@ -809,7 +810,8 @@
 #define IS_I810(pI810) (pI810->PciInfo->chipType == PCI_CHIP_I810 ||	\
 			pI810->PciInfo->chipType == PCI_CHIP_I810_DC100 || \
 			pI810->PciInfo->chipType == PCI_CHIP_I810_E)
-#define IS_I815(pI810) (pI810->PciInfo->chipType == PCI_CHIP_I815)
+#define IS_I815(pI810) (pI810->PciInfo->chipType == PCI_CHIP_I815 || \
+			pI810->PciInfo->chipType == PCI_CHIP_I815_M)
 #define IS_I830(pI810) (pI810->PciInfo->chipType == PCI_CHIP_I830_M)
 
 
--- XFree86-4.2.0/xc.orig/programs/Xserver/hw/xfree86/drivers/i810/i810_driver.c	Thu Jan 10 01:02:29 2002
+++ XFree86-4.2.0/xc/programs/Xserver/hw/xfree86/drivers/i810/i810_driver.c	Mon Jan 21 03:00:42 2002
@@ -101,7 +101,8 @@
    { PCI_CHIP_I810,       "i810"},
    { PCI_CHIP_I810_DC100, "i810-dc100"},
    { PCI_CHIP_I810_E,     "i810e"},
-   { PCI_CHIP_I815,	      "i815"},
+   { PCI_CHIP_I815,	  "i815"},
+   { PCI_CHIP_I815_M,	  "i815m"},
    { PCI_CHIP_I830_M,     "i830M"},
    { -1, NULL }
 };
@@ -110,7 +111,8 @@
    { PCI_CHIP_I810,       PCI_CHIP_I810,       RES_SHARED_VGA },
    { PCI_CHIP_I810_DC100, PCI_CHIP_I810_DC100, RES_SHARED_VGA },
    { PCI_CHIP_I810_E,     PCI_CHIP_I810_E,     RES_SHARED_VGA },
-   { PCI_CHIP_I815,	      PCI_CHIP_I815,       RES_SHARED_VGA },
+   { PCI_CHIP_I815,	  PCI_CHIP_I815,       RES_SHARED_VGA },
+   { PCI_CHIP_I815_M,	  PCI_CHIP_I815_M,     RES_SHARED_VGA },
    { PCI_CHIP_I830_M,     PCI_CHIP_I830_M,     RES_SHARED_VGA },
    { -1, -1, RES_UNDEFINED }
 };
