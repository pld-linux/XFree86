diff -Nur XFree86-4.0.2.org/xc/programs/xdm/Imakefile XFree86-4.0.2/xc/programs/xdm/Imakefile
--- XFree86-4.0.2.org/xc/programs/xdm/Imakefile	Wed Nov 29 17:46:07 2000
+++ XFree86-4.0.2/xc/programs/xdm/Imakefile	Thu Dec 21 13:10:37 2000
@@ -225,9 +225,9 @@
 		  '-DDEF_SYSTEM_SHELL="$(BOURNE_SHELL)"' \
 		  '-DDEF_FAILSAFE_CLIENT="$(BINDIR)/xterm"' \
 		  '-DDEF_XDM_CONFIG="$(XDMDIR)/xdm-config"' \
-		  '-DDEF_CHOOSER="$(XDMDIR)/chooser"' \
-		  '-DDEF_AUTH_DIR="$(XDMDIR)"' \
-		  '-DDEF_GREETER_LIB="$(XDMDIR)/libXdmGreet.so"'
+		  '-DDEF_CHOOSER="$(BINDIR)/chooser"' \
+		  '-DDEF_AUTH_DIR="$(XDMVARDIR)"' \
+		  '-DDEF_GREETER_LIB="$(USRLIBDIR)/libXdmGreet.so"'
 #endif
 
 ComplexProgramTarget_1(xdm,$(LOCAL_LIBRARIES),NullParameter)
@@ -247,7 +247,7 @@
 #if BuildChooser
 SpecialCObjectRule(chooser, $(ICONFIGFILES), $(SOCK_DEFINES))
 NormalProgramTarget(chooser,$(OBJS3),$(DEPLIBS3),$(LIBS3),NullParameter)
-InstallProgram(chooser,$(XDMDIR))
+InstallProgram(chooser,$(BINDIR))
 InstallAppDefaults(Chooser)
 #endif
 #if BuildBoth
diff -Nur XFree86-4.0.2.org/xc/programs/xdm/config/Imakefile XFree86-4.0.2/xc/programs/xdm/config/Imakefile
--- XFree86-4.0.2.org/xc/programs/xdm/config/Imakefile	Mon Jan 31 20:33:43 2000
+++ XFree86-4.0.2/xc/programs/xdm/config/Imakefile	Thu Dec 21 13:20:54 2000
@@ -5,9 +5,7 @@
 
 all:: Xservers.ws xdm-config Xservers Xresources
 
-#if defined(i386Architecture) && (defined(NetBSDArchitecture) || defined(OpenBSDArchitecture))
-DEFAULTVT=vt05
-#endif
+DEFAULTVT=vt9
 
 #ifndef XdmPixmap
 # define XdmPixmap XFree86.xpm
@@ -25,7 +23,11 @@
 #endif
 
 CppFileTarget(Xservers.ws,Xserv.ws.cpp,-DBINDIR=$(BINDIR) -DDEFAULTVT=$(DEFAULTVT),NullParameter)
-CppFileTarget(xdm-config,xdm-conf.cpp,-DXDMDIR=$(XDMDIR) -DXDMLOGDIR=$(XDMLOGDIR) -DXDMPIDDIR=$(XDMPIDDIR),NullParameter)
+#ifdef LinuxArchitecture
+CppFileTarget(xdm-config,xdm-conf.cpp,$(XPM_DEFINES) -DLINUX=1 -DXDMDIR=$(XDMDIR) -DXDMLOGDIR=$(XDMLOGDIR) -DXDMPIDDIR=$(XDMPIDDIR) -DXDMVARDIR=$(XDMVARDIR),NullParameter)
+#else
+CppFileTarget(xdm-config,xdm-conf.cpp,$(XPM_DEFINES) -DXDMDIR=$(XDMDIR) -DXDMLOGDIR=$(XDMLOGDIR) -DXDMPIDDIR=$(XDMPIDDIR),NullParameter)
+#endif /* LinuxArchitecture */
 CppFileTarget(Xresources,Xres.cpp,$(XPM_DEFINES),NullParameter)
 
 LinkFile(Xservers,Xservers.$(SERVERSTYPE))
diff -Nur XFree86-4.0.2.org/xc/programs/xdm/config/Xres.cpp XFree86-4.0.2/xc/programs/xdm/config/Xres.cpp
--- XFree86-4.0.2.org/xc/programs/xdm/config/Xres.cpp	Thu Dec 21 13:06:17 2000
+++ XFree86-4.0.2/xc/programs/xdm/config/Xres.cpp	Thu Dec 21 13:19:25 2000
@@ -36,9 +36,7 @@
 /**/#endif
 #endif /* XPM */
 /**/#ifdef COLOR
-#ifndef XPM
-xlogin*greetColor: CadetBlue
-#else
+#ifdef XPM
 xlogin*borderWidth: 1
 xlogin*frameWidth: 5
 xlogin*innerFramesWidth: 2
@@ -47,6 +45,8 @@
 xlogin*background: grey
 !xlogin*foreground: darkgreen
 xlogin*greetColor: Blue3
+#else
+login*greetColor: CadetBlue
 #endif /* XPM */
 xlogin*failColor: red
 *Foreground: black
diff -Nur XFree86-4.0.2.org/xc/programs/xdm/greeter/Imakefile XFree86-4.0.2/xc/programs/xdm/greeter/Imakefile
--- XFree86-4.0.2.org/xc/programs/xdm/greeter/Imakefile	Wed Jun 14 21:43:32 2000
+++ XFree86-4.0.2/xc/programs/xdm/greeter/Imakefile	Thu Dec 21 13:20:13 2000
@@ -77,8 +77,6 @@
  DEFINES = $(GREETER_DEFINES) $(XDMAUTH_DEFINES) $(RPC_DEFINES) \
 	   $(KRBIV_DEFINES) $(KRB5_DEFINES) $(PWD_DEFINES) $(PAM_DEFINES)
 
-SHLIBDIR = $(XDMDIR)
-
 SRCS = greet.c verify.c Login.c
 OBJS = greet.o verify.o Login.o
 
